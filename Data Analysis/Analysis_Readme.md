# OpioidMortality_GTWR analysis.R

This R file in this folder contains the code to run the geographic and temporally weighted regression (GTWR) anlaysis, where mortality rate is the outcome, and opioids in grams per person, population size, percent of the population that is white, median age, and median household income are the independent variables. 

## Key decisions made: 
  - mortality was expressed as a rate per 100,000 people for each county in each year, computed as the (mortality count/population size)*100,000. The mortality rate was log transformed, and coefficients approximate the percent change in mortality for every unit increase in each of the independent variables, adjusting for all other independent variables listed above
  - A fixed Gaussian kernel was used to calculate the spatiotemporal bandwidth, because this kernel had the lowest AIC
  - Excluded Hawaii/Alaska from analyses, due to large spatial distance from the rest of the US
  - Generated the coefficients for opioids scaled to the population, so we get the change in log mortality for every additional gram of opioid per person. 

# "/Mortality Outcome GTWR Model Outputs 2006-2012.csv" 

Contains the data that was used to generate the model as well as the output local coefficients for each county, generated by the GTWR model. 

# "/Scaled Independent Variable Analysis/"
Contains the primary analysis conducted using scaled and centered z-scores for the independent variables for comparative purposes. Please be aware that while opioids per person was collected anually from 2006-2012, all other independent variables came from the 2010 US census (single point in time). 
